// FanTribe Mobile Bottom Navigation
// Instagram/TikTok style bottom navigation for mobile

.fantribe-mobile-nav {
  // Hidden on desktop, visible on mobile
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: var(--ft-z-sticky);
  height: 64px;
  background: var(--ft-glass-card-bg);
  backdrop-filter: blur(var(--ft-glass-card-blur)) saturate(180%);
  -webkit-backdrop-filter: blur(var(--ft-glass-card-blur)) saturate(180%);
  border-top: var(--ft-glass-border-subtle);
  padding-bottom: env(safe-area-inset-bottom, 0);

  @media (max-width: 767px) {
    display: flex;
    align-items: center;
    justify-content: space-around;
  }

  &__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    flex: 1;
    height: 100%;
    padding: var(--ft-space-1);
    background: transparent;
    border: none;
    color: var(--ft-gray-500);
    font-size: 10px;
    font-weight: var(--ft-font-weight-medium);
    cursor: pointer;
    transition: color var(--ft-transition-fast);

    .d-icon {
      font-size: 22px;
    }

    span {
      margin-top: 2px;
    }

    &:hover,
    &.active {
      color: var(--ft-primary);
    }

    // Special create button styling
    &--create {
      flex: 0 0 56px;
      height: 44px;
      width: 56px;
      margin: 0 var(--ft-space-2);
      background: var(--ft-primary);
      color: var(--ft-white);
      border-radius: var(--ft-radius-lg);
      box-shadow: 0 4px 12px var(--ft-primary-medium);
      transition: all var(--ft-transition-fast);

      .d-icon {
        font-size: 24px;
      }

      &:hover {
        background: var(--ft-primary-hover);
        transform: scale(1.05);
        color: var(--ft-white);
      }

      &:active {
        transform: scale(0.95);
      }
    }
  }
}

// Add padding to body on mobile to account for bottom nav
@media (max-width: 767px) {
  body.fantribe-theme {
    padding-bottom: calc(64px + env(safe-area-inset-bottom, 0));
  }

  // Hide Discourse's native FAB when our mobile nav is visible
  body.fantribe-custom-header {
    #create-topic {
      display: none !important;
    }

    .footer-message {
      padding-bottom: calc(80px + env(safe-area-inset-bottom, 0));
    }
  }
}
